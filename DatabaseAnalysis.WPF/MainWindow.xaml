<Window x:Class="DatabaseAnalysis.WPF.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:DatabaseAnalysis.WPF"
        xmlns:viewmodels="clr-namespace:DatabaseAnalysis.WPF.MVVM.ViewModels"
        xmlns:nav="clr-namespace:DatabaseAnalysis.WPF.State.Navigation"
        d:DataContext="{d:DesignInstance Type=viewmodels:MainWindowViewModel}"
        mc:Ignorable="d"
        Title="" MinHeight="450" MinWidth="900"
        WindowStartupLocation="CenterScreen" WindowStyle="SingleBorderWindow" WindowState="Maximized">
    <Grid Background="#edd6b7" >
        <Grid.RowDefinitions>
            <RowDefinition Height="auto"/>
            <RowDefinition Height="auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <Grid Grid.Row="0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <Menu Grid.Column="0" DataContext="{Binding Navigator}">
                <MenuItem Header="Вид отчета" Height="22">
                    <MenuItem Header="Оперативный" Command="{Binding UpdateCurrentViewModelCommand}" CommandParameter="{x:Static nav:ViewType.Oper}"/>
                    <MenuItem Header="Годовой" Command="{Binding UpdateCurrentViewModelCommand}" CommandParameter="{x:Static nav:ViewType.Annual}"/>
                </MenuItem>
                <MenuItem Header="Статистика" Height="22">
                    <MenuItem Header="Пересечения" Command="{Binding UpdateCurrentViewModelCommand}" CommandParameter="{x:Static nav:ViewType.Oper}"/>
                    <MenuItem Header="Разрывы" Command="{Binding UpdateCurrentViewModelCommand}" CommandParameter="{x:Static nav:ViewType.Annual}"/>
                </MenuItem>
            </Menu>
            <Menu Grid.Column="1">
                <MenuItem Header="Выгрузка" Height="22">
                    <MenuItem Header="Формы 1" Command="{Binding ExportExcel}" CommandParameter="1"/>
                    <MenuItem Header="Формы 2" Command="{Binding UpdateCurrentViewModelCommand}" CommandParameter="{x:Static nav:ViewType.Annual}"/>
                </MenuItem>
            </Menu>
            
        </Grid>
        <Grid VerticalAlignment="Top" Height="auto" Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition/>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition Width="3*"/>
                <ColumnDefinition Width="3*"/>
                <ColumnDefinition Width="3*"/>
                <ColumnDefinition Width="3*"/>
                <ColumnDefinition Width="3*"/>
            </Grid.ColumnDefinitions>
            <TextBox Grid.Column="0" Text="{Binding Path=StringSearch, UpdateSourceTrigger=PropertyChanged}" Grid.ColumnSpan="2"></TextBox>
            <ComboBox Grid.Column="2" SelectedItem="{Binding Path=SelectedSearch, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                <TextBlock Text="Рег.№"/>
                <TextBlock Text="Сокр.наименование"/>
                <TextBlock Text="ОКПО"/>
            </ComboBox>
            <!--<Button Grid.Column="5" Content="Фильтр форм"  Background="Aqua"/>
            <Button Grid.Column="6" Content="Сброс фильтра" Background="Aqua"/>-->
        </Grid>
        <ContentControl Grid.Row="2" Content="{Binding Navigator.CurrentViewModel}"/>
    </Grid>
</Window>
